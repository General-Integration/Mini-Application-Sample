{"ast":null,"code":"import \"vant/es/grid-item/style\";\nimport _GridItem from \"vant/es/grid-item\";\nimport \"vant/es/grid/style\";\nimport _Grid from \"vant/es/grid\";\nimport \"vant/es/cell-group/style\";\nimport _CellGroup from \"vant/es/cell-group\";\nimport \"vant/es/cell/style\";\nimport _Cell from \"vant/es/cell\";\nimport \"vant/es/button/style\";\nimport _Button from \"vant/es/button\";\nimport \"vant/es/loading/style\";\nimport _Loading from \"vant/es/loading\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/card/style\";\nimport _Card from \"vant/es/card\";\nimport \"core-js/modules/es.array.push.js\";\nexport default {\n  components: {\n    [_Card.name]: _Card,\n    [_Icon.name]: _Icon,\n    [_Loading.name]: _Loading,\n    [_Button.name]: _Button,\n    [_Cell.name]: _Cell,\n    [_CellGroup.name]: _CellGroup,\n    [_Grid.name]: _Grid,\n    [_GridItem.name]: _GridItem\n  },\n  data() {\n    return {\n      listData: [],\n      payment: {\n        amount: \"6\",\n        currency: \"\",\n        useDefault: false,\n        account: +new Date() + \"\" // something that unique like transaction_id|invioce_id|ticket_id\n      },\n\n      defaultAcc: {\n        accountName: \"\",\n        accountNumber: \"\",\n        currency: \"\"\n      }\n    };\n  },\n  created() {\n    // set bar title\n    this.$bridge.callHandler(\"setBarTitle\", {\n      title: \"Detail Page\",\n      bgColor: \"#073b4c\",\n      color: \"#d9ed92\"\n    });\n    this.getDefaultAcc();\n  },\n  methods: {\n    resetPaymentPayload() {\n      this.payment = {\n        amount: \"6\",\n        currency: \"\",\n        useDefault: false,\n        account: +new Date() + \"\" // something that unique like transaction_id|invioce_id|ticket_id\n      };\n    },\n\n    getDefaultAcc() {\n      this.$bridge.callHandler(\"getDefaultAcc\", {\n        currency: \"USD\",\n        amount: \"6\"\n      }).then(res => {\n        console.log(\"getDefaultAcc\", res);\n        if (res.accountName) this.defaultAcc = res;\n      });\n    },\n    onSubmitUSD(useDefaultAcc = false) {\n      this.resetPaymentPayload();\n      this.payment.currency = \"USD\";\n      this.payment.amount = \"1\";\n      this.payment.useDefault = useDefaultAcc;\n      this.$bridge.callHandler(\"doPayment\", this.payment).then(() => {});\n    },\n    onSubmitKHR(useDefaultAcc = false) {\n      this.resetPaymentPayload();\n      this.payment.currency = \"KHR\";\n      this.payment.amount = \"4000\";\n      this.payment.useDefault = useDefaultAcc;\n      this.$bridge.callHandler(\"doPayment\", this.payment).then(() => {});\n    }\n  },\n  mounted() {\n    this.$bridge.registerHandler(\"getStatus\", data => {\n      console.log(\"getStatus\", data);\n      this.$router.push({\n        path: \"message\",\n        query: {\n          message: data.status\n        }\n      });\n    });\n  }\n};","map":{"version":3,"names":["components","_Card","name","_Icon","_Loading","_Button","_Cell","_CellGroup","_Grid","_GridItem","data","listData","payment","amount","currency","useDefault","account","Date","defaultAcc","accountName","accountNumber","created","$bridge","callHandler","title","bgColor","color","getDefaultAcc","methods","resetPaymentPayload","then","res","console","log","onSubmitUSD","useDefaultAcc","onSubmitKHR","mounted","registerHandler","$router","push","path","query","message","status"],"sources":["/Users/chhuonn.sophorn/Desktop/ABA-09-01-2023/Mini-Application-Sample/src/pages/Detail.vue"],"sourcesContent":["<script>\nimport {\n  Card,\n  Icon,\n  Loading,\n  Button,\n  Cell,\n  CellGroup,\n  Grid,\n  GridItem,\n} from \"vant\";\nexport default {\n  components: {\n    [Card.name]: Card,\n    [Icon.name]: Icon,\n    [Loading.name]: Loading,\n    [Button.name]: Button,\n    [Cell.name]: Cell,\n    [CellGroup.name]: CellGroup,\n    [Grid.name]: Grid,\n    [GridItem.name]: GridItem,\n  },\n  data() {\n    return {\n      listData: [],\n      payment: {\n        amount: \"6\",\n        currency: \"\",\n        useDefault: false,\n        account: +new Date() + \"\", // something that unique like transaction_id|invioce_id|ticket_id\n      },\n      defaultAcc: {\n        accountName: \"\",\n        accountNumber: \"\",\n        currency: \"\",\n      },\n    };\n  },\n  created() {\n    // set bar title\n    this.$bridge.callHandler(\"setBarTitle\", {\n      title: \"Detail Page\",\n      bgColor: \"#073b4c\",\n      color: \"#d9ed92\",\n    });\n    this.getDefaultAcc();\n  },\n  methods: {\n    resetPaymentPayload() {\n      this.payment = {\n        amount: \"6\",\n        currency: \"\",\n        useDefault: false,\n        account: +new Date() + \"\", // something that unique like transaction_id|invioce_id|ticket_id\n      };\n    },\n    getDefaultAcc() {\n      this.$bridge\n        .callHandler(\"getDefaultAcc\", {\n          currency: \"USD\",\n          amount: \"6\",\n        })\n        .then((res) => {\n          console.log(\"getDefaultAcc\", res);\n          if (res.accountName) this.defaultAcc = res;\n        });\n    },\n    onSubmitUSD(useDefaultAcc = false) {\n      this.resetPaymentPayload();\n      this.payment.currency = \"USD\";\n      this.payment.amount = \"1\";\n      this.payment.useDefault = useDefaultAcc;\n      this.$bridge.callHandler(\"doPayment\", this.payment).then(() => {});\n    },\n    onSubmitKHR(useDefaultAcc = false) {\n      this.resetPaymentPayload();\n      this.payment.currency = \"KHR\";\n      this.payment.amount = \"4000\";\n      this.payment.useDefault = useDefaultAcc;\n      this.$bridge.callHandler(\"doPayment\", this.payment).then(() => {});\n    },\n  },\n  mounted() {\n    this.$bridge.registerHandler(\"getStatus\", (data) => {\n      console.log(\"getStatus\", data);\n      this.$router.push({\n        path: \"message\",\n        query: { message: data.status },\n      });\n    });\n  },\n};\n</script>\n<template>\n  <div class=\"wrapper\" style=\"margin-bottom: 60px\">\n    <h2 style=\"padding: 16px\">Detail</h2>\n    <div class=\"description\">\n      <img src=\"https://img01.yzcdn.cn/vant/ipad.jpeg\" class=\"img-detail\" />\n      <h3>Title of Product</h3>\n      <h4>$ 1.00</h4>\n      <p>\n        Lorem ipsum dolor sit amet consectetur adipisicing elit. Quod possimus\n        sequi aliquam, vel omnis pariatur, magni, eum molestiae saepe quam non\n        ipsa at beatae eius repellat dolore velit nulla ab.\n      </p>\n\n      <!-- <van-cell-group v-if=\"defaultAcc.accountName\">\n        <van-cell is-link @click=\"onSubmitUSD(false)\">\n          <template #title>\n            {{ defaultAcc.accountName }}: {{ defaultAcc.accountNumber }} |\n            {{ defaultAcc.currency }}\n          </template>\n        </van-cell>\n      </van-cell-group> -->\n      <van-grid direction=\"horizontal\" :border=\"false\" :column-num=\"2\">\n        <van-grid-item>\n          <van-button\n            plain\n            icon=\"credit-pay\"\n            type=\"primary\"\n            @click=\"onSubmitUSD(true)\"\n            >Buy (USD)</van-button\n          >\n        </van-grid-item>\n        <van-grid-item>\n          <van-button\n            plain\n            icon=\"credit-pay\"\n            type=\"primary\"\n            @click=\"onSubmitKHR(true)\"\n            >Buy (KHR)</van-button\n          >\n        </van-grid-item>\n      </van-grid>\n\n      <div class=\"payment-section\" v-if=\"defaultAcc.accountName\">\n        <img src=\"@/static/aba-pay.png\" class=\"abapay\" />\n        <div class=\"account\">\n          <div>\n            <span class=\"name\">{{\n              defaultAcc.accountName || \"Savings Account\"\n            }}</span>\n            <span class=\"number\"\n              >{{ defaultAcc.accountNumber || \"000 123 569\" }} |\n              {{ defaultAcc.currency || \"USD\" }}</span\n            >\n          </div>\n          <div>\n            <span class=\"choose\" @click=\"onSubmitUSD(false)\">\n              Change\n              <van-icon name=\"arrow-down\" />\n            </span>\n          </div>\n        </div>\n        <div>\n          <van-button\n            block\n            @click=\"onSubmitUSD(true)\"\n            class=\"btn-pay\"\n            type=\"primary\"\n            >Pay $1.00</van-button\n          >\n          <img src=\"@/static/power-aba.png\" class=\"power-aba\" />\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style lang=\"scss\">\n.wrapper {\n  .description {\n    padding: 16px;\n    margin-bottom: 255px;\n    .img-detail {\n      width: 100%;\n      height: 200px;\n      object-fit: contain;\n    }\n  }\n  h2 {\n    padding: 16px 16px 0;\n  }\n  .payment-section {\n    position: fixed;\n    width: calc(100% - 32px);\n    bottom: 50px;\n    background: #fff;\n    padding: 16px;\n    left: 0;\n    box-shadow: 0px 0px 24px rgba(13, 3, 30, 0.08);\n    .abapay {\n      margin-bottom: 20px;\n    }\n    .account {\n      display: flex;\n      justify-content: space-between;\n      align-items: flex-start;\n      .name {\n        font-weight: 600;\n        font-size: 16px;\n        line-height: 22px;\n        letter-spacing: -0.0041em;\n        display: block;\n      }\n      .number {\n        font-weight: 500;\n        font-size: 12px;\n        line-height: 15px;\n        color: #000000;\n        opacity: 0.5;\n      }\n      .choose {\n        font-weight: 600;\n        font-size: 16px;\n        line-height: 22px;\n        padding: 5px;\n        &:hover {\n          cursor: pointer;\n        }\n      }\n    }\n    .btn-pay {\n      border-radius: 10px;\n      margin-top: 16px;\n      font-weight: 600;\n      font-size: 16px;\n      line-height: 22px;\n      /* identical to box height, or 138% */\n      letter-spacing: -0.0041em;\n    }\n    .power-aba {\n      display: block;\n      margin: 0 auto;\n      padding: 8px 0;\n    }\n  }\n}\nbody {\n  background: #f7f8fa;\n}\n</style>\n"],"mappings":";;;;;;;;;;;;;;;;;AAWA,eAAe;EACbA,UAAU,EAAE;IACV,CAACC,KAAA,CAAKC,IAAI,GAAAD,KAAO;IACjB,CAACE,KAAA,CAAKD,IAAI,GAAAC,KAAO;IACjB,CAACC,QAAA,CAAQF,IAAI,GAAAE,QAAU;IACvB,CAACC,OAAA,CAAOH,IAAI,GAAAG,OAAS;IACrB,CAACC,KAAA,CAAKJ,IAAI,GAAAI,KAAO;IACjB,CAACC,UAAA,CAAUL,IAAI,GAAAK,UAAY;IAC3B,CAACC,KAAA,CAAKN,IAAI,GAAAM,KAAO;IACjB,CAACC,SAAA,CAASP,IAAI,GAAAO;EAChB,CAAC;EACDC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,OAAO,EAAE;QACPC,MAAM,EAAE,GAAG;QACXC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE,KAAK;QACjBC,OAAO,EAAE,CAAC,IAAIC,IAAI,CAAC,IAAI,EAAE,CAAE;MAC7B,CAAC;;MACDC,UAAU,EAAE;QACVC,WAAW,EAAE,EAAE;QACfC,aAAa,EAAE,EAAE;QACjBN,QAAQ,EAAE;MACZ;IACF,CAAC;EACH,CAAC;EACDO,OAAOA,CAAA,EAAG;IACR;IACA,IAAI,CAACC,OAAO,CAACC,WAAW,CAAC,aAAa,EAAE;MACtCC,KAAK,EAAE,aAAa;MACpBC,OAAO,EAAE,SAAS;MAClBC,KAAK,EAAE;IACT,CAAC,CAAC;IACF,IAAI,CAACC,aAAa,CAAC,CAAC;EACtB,CAAC;EACDC,OAAO,EAAE;IACPC,mBAAmBA,CAAA,EAAG;MACpB,IAAI,CAACjB,OAAM,GAAI;QACbC,MAAM,EAAE,GAAG;QACXC,QAAQ,EAAE,EAAE;QACZC,UAAU,EAAE,KAAK;QACjBC,OAAO,EAAE,CAAC,IAAIC,IAAI,CAAC,IAAI,EAAE,CAAE;MAC7B,CAAC;IACH,CAAC;;IACDU,aAAaA,CAAA,EAAG;MACd,IAAI,CAACL,OAAM,CACRC,WAAW,CAAC,eAAe,EAAE;QAC5BT,QAAQ,EAAE,KAAK;QACfD,MAAM,EAAE;MACV,CAAC,EACAiB,IAAI,CAAEC,GAAG,IAAK;QACbC,OAAO,CAACC,GAAG,CAAC,eAAe,EAAEF,GAAG,CAAC;QACjC,IAAIA,GAAG,CAACZ,WAAW,EAAE,IAAI,CAACD,UAAS,GAAIa,GAAG;MAC5C,CAAC,CAAC;IACN,CAAC;IACDG,WAAWA,CAACC,aAAY,GAAI,KAAK,EAAE;MACjC,IAAI,CAACN,mBAAmB,CAAC,CAAC;MAC1B,IAAI,CAACjB,OAAO,CAACE,QAAO,GAAI,KAAK;MAC7B,IAAI,CAACF,OAAO,CAACC,MAAK,GAAI,GAAG;MACzB,IAAI,CAACD,OAAO,CAACG,UAAS,GAAIoB,aAAa;MACvC,IAAI,CAACb,OAAO,CAACC,WAAW,CAAC,WAAW,EAAE,IAAI,CAACX,OAAO,CAAC,CAACkB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IACpE,CAAC;IACDM,WAAWA,CAACD,aAAY,GAAI,KAAK,EAAE;MACjC,IAAI,CAACN,mBAAmB,CAAC,CAAC;MAC1B,IAAI,CAACjB,OAAO,CAACE,QAAO,GAAI,KAAK;MAC7B,IAAI,CAACF,OAAO,CAACC,MAAK,GAAI,MAAM;MAC5B,IAAI,CAACD,OAAO,CAACG,UAAS,GAAIoB,aAAa;MACvC,IAAI,CAACb,OAAO,CAACC,WAAW,CAAC,WAAW,EAAE,IAAI,CAACX,OAAO,CAAC,CAACkB,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;IACpE;EACF,CAAC;EACDO,OAAOA,CAAA,EAAG;IACR,IAAI,CAACf,OAAO,CAACgB,eAAe,CAAC,WAAW,EAAG5B,IAAI,IAAK;MAClDsB,OAAO,CAACC,GAAG,CAAC,WAAW,EAAEvB,IAAI,CAAC;MAC9B,IAAI,CAAC6B,OAAO,CAACC,IAAI,CAAC;QAChBC,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE;UAAEC,OAAO,EAAEjC,IAAI,CAACkC;QAAO;MAChC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}