{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createBlock as _createBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-3243f4e1\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h3\", {\n  style: {\n    \"margin-left\": \"16px\"\n  }\n}, \"playAudio\", -1 /* HOISTED */));\nconst _hoisted_2 = {\n  style: {\n    \"margin\": \"16px\"\n  }\n};\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  style: {\n    \"margin-bottom\": \"10px\",\n    \"font-size\": \"14px\"\n  }\n}, \"Handler logs\", -1 /* HOISTED */));\nconst _hoisted_4 = {\n  class: \"log-container\"\n};\nconst _hoisted_5 = {\n  key: 0,\n  style: {\n    \"margin-top\": \"8px\",\n    \"color\": \"#07c160\"\n  }\n};\nconst _hoisted_6 = {\n  style: {\n    \"margin\": \"16px\",\n    \"display\": \"flex\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_van_button = _resolveComponent(\"van-button\");\n  const _component_van_cell = _resolveComponent(\"van-cell\");\n  const _component_van_cell_group = _resolveComponent(\"van-cell-group\");\n  const _component_van_list = _resolveComponent(\"van-list\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_hoisted_1, _createElementVNode(\"div\", _hoisted_2, [_hoisted_3, _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"ol\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.logs, log => {\n    return _openBlock(), _createElementBlock(\"li\", {\n      key: log,\n      style: {\n        \"margin-bottom\": \"10px\"\n      }\n    }, [_createElementVNode(\"div\", null, _toDisplayString(log.desc), 1 /* TEXT */), log.data ? (_openBlock(), _createElementBlock(\"div\", _hoisted_5, [_createElementVNode(\"code\", null, _toDisplayString(log.data), 1 /* TEXT */)])) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_van_button, {\n    style: {\n      \"margin\": \"0 auto\"\n    },\n    round: \"\",\n    type: \"primary\",\n    size: \"mini\",\n    onClick: _cache[0] || (_cache[0] = $event => $setup.logs = [])\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" Clear Logs \")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_van_button, {\n    style: {\n      \"margin\": \"0 auto\"\n    },\n    round: \"\",\n    type: \"primary\",\n    size: \"mini\",\n    onClick: $setup.onGetPlayingId\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" getPlayingId \")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_van_button, {\n    style: {\n      \"margin\": \"0 auto\"\n    },\n    round: \"\",\n    type: \"primary\",\n    size: \"mini\",\n    onClick: $setup.onSetAudioPlay\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" setAudioPlay \")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_van_button, {\n    style: {\n      \"margin\": \"0 auto\"\n    },\n    round: \"\",\n    type: \"primary\",\n    size: \"mini\",\n    onClick: $setup.onSetPlayList\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" setPlayList \")]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_van_button, {\n    style: {\n      \"margin\": \"0 auto\"\n    },\n    round: \"\",\n    type: \"primary\",\n    size: \"mini\",\n    onClick: $setup.onSwitchPlayerMode\n  }, {\n    default: _withCtx(() => [_createTextVNode(\" switchPlayerMode \")]),\n    _: 1 /* STABLE */\n  })])]), _createVNode(_component_van_list, null, {\n    default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.payload.playlist, item => {\n      return _openBlock(), _createBlock(_component_van_cell_group, {\n        key: item\n      }, {\n        default: _withCtx(() => [_createVNode(_component_van_cell, {\n          clickable: \"\",\n          onClick: $event => $setup.onItemClick(item),\n          title: item.title,\n          icon: +$setup.payload.playId === +item.id ? 'pause-circle-o' : 'play-circle-o'\n        }, null, 8 /* PROPS */, [\"onClick\", \"title\", \"icon\"])]),\n        _: 2 /* DYNAMIC */\n      }, 1024 /* DYNAMIC_SLOTS */);\n    }), 128 /* KEYED_FRAGMENT */))]),\n\n    _: 1 /* STABLE */\n  })]);\n}","map":{"version":3,"names":["_createElementVNode","style","class","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_Fragment","_renderList","$setup","logs","log","key","_toDisplayString","desc","data","_hoisted_5","_hoisted_6","_createVNode","_component_van_button","round","type","size","onClick","_cache","$event","onGetPlayingId","onSetAudioPlay","onSetPlayList","onSwitchPlayerMode","_component_van_list","payload","playlist","item","_createBlock","_component_van_cell_group","_component_van_cell","clickable","onItemClick","title","icon","playId","id"],"sources":["/Users/chhuonn.sophorn/Desktop/ABA-09-01-2023/Mini-Application-Sample/src/pages/BridgeHandlers/HandlerPlayAudio.vue"],"sourcesContent":["<template>\n  <div>\n    <h3 style=\"margin-left: 16px\">playAudio</h3>\n    <div style=\"margin: 16px\">\n      <div style=\"margin-bottom: 10px; font-size: 14px\">Handler logs</div>\n\n      <div class=\"log-container\">\n        <ol>\n          <li v-for=\"log in logs\" :key=\"log\" style=\"margin-bottom: 10px\">\n            <div>\n              {{ log.desc }}\n            </div>\n            <div style=\"margin-top: 8px; color: #07c160\" v-if=\"log.data\">\n              <code>\n                {{ log.data }}\n              </code>\n            </div>\n          </li>\n        </ol>\n      </div>\n\n      <div style=\"margin: 16px; display: flex\">\n        <van-button\n          style=\"margin: 0 auto\"\n          round\n          type=\"primary\"\n          size=\"mini\"\n          @click=\"logs = []\"\n        >\n          Clear Logs\n        </van-button>\n        <van-button\n          style=\"margin: 0 auto\"\n          round\n          type=\"primary\"\n          size=\"mini\"\n          @click=\"onGetPlayingId\"\n        >\n          getPlayingId\n        </van-button>\n        <van-button\n          style=\"margin: 0 auto\"\n          round\n          type=\"primary\"\n          size=\"mini\"\n          @click=\"onSetAudioPlay\"\n        >\n          setAudioPlay\n        </van-button>\n        <van-button\n          style=\"margin: 0 auto\"\n          round\n          type=\"primary\"\n          size=\"mini\"\n          @click=\"onSetPlayList\"\n        >\n          setPlayList\n        </van-button>\n        <van-button\n          style=\"margin: 0 auto\"\n          round\n          type=\"primary\"\n          size=\"mini\"\n          @click=\"onSwitchPlayerMode\"\n        >\n          switchPlayerMode\n        </van-button>\n      </div>\n    </div>\n    <van-list>\n      <van-cell-group v-for=\"item in payload.playlist\" :key=\"item\">\n        <van-cell\n          clickable\n          @click=\"onItemClick(item)\"\n          :title=\"item.title\"\n          :icon=\"\n            +payload.playId === +item.id ? 'pause-circle-o' : 'play-circle-o'\n          \"\n        />\n      </van-cell-group>\n    </van-list>\n  </div>\n</template>\n\n<script setup>\nimport { inject, onMounted, ref } from \"vue\";\nlet logs = ref([]);\nconst payload = ref({\n  playId: null,\n  playlist: [\n    {\n      id: 1,\n      url: \"https://media.bookeyond.com/7/50.mp3\",\n      title: \"audio 1\",\n      thumbnail: \"https://via.placeholder.com/300x300.png?text=Audio+1\",\n      description: \"sample description for audio 1\",\n      bookId: 7,\n    },\n    {\n      id: 2,\n      url: \"https://media.bookeyond.com/7/51.mp3\",\n      title: \"audio 2\",\n      thumbnail: \"https://via.placeholder.com/300x300.png?text=Audio+2\",\n      description: \"sample description for audio 2\",\n      bookId: 7,\n    },\n    {\n      id: 3,\n      url: \"https://media.bookeyond.com/7/52.mp3\",\n      title: \"audio 3\",\n      thumbnail: \"https://via.placeholder.com/300x300.png?text=Audio+3\",\n      description: \"sample description for audio 3\",\n      bookId: 7,\n    },\n  ],\n});\nconst $bridge = inject(\"$bridge\");\n\nonMounted(() => {\n  $bridge.registerHandler(\"onPlayIdChange\", (res) => {\n    setLog(`\"onPlayIdChange\" event triggered from native..`, res);\n    payload.value.playId = res.id;\n  });\n  setLog(`listening to \"onPlayIdChange\" event from native..`);\n\n  $bridge.registerHandler(\"redirectPage\", (res) => {\n    setLog(`\"redirectPage\" event triggered from native..`, res);\n  });\n  setLog(`listening to \"redirectPage\" event from native..`);\n});\n\nfunction onItemClick(item) {\n  payload.value.playId = item?.id;\n  $bridge.callHandler(\"setAudioPlay\", { playId: item.id });\n  setLog(`mini app called \"setAudioPlay\" handler`, { playId: item.id });\n}\n\nfunction onSetAudioPlay() {\n  const defaultPlayId = 1;\n  $bridge.callHandler(\"setAudioPlay\", { playId: defaultPlayId }).then(() => {\n    setLog(`mini app called \"setAudioPlay\" handler`, { playId: defaultPlayId });\n    payload.value.playId = defaultPlayId;\n  });\n}\n\nfunction onGetPlayingId() {\n  $bridge.callHandler(\"getPlayingId\").then((res) => {\n    setLog(`mini app called \"getPlayingId\" handler`, res);\n    payload.value.playId = res.playId;\n  });\n}\n\nfunction onSetPlayList() {\n  payload.value.playId = 1;\n  $bridge.callHandler(\"setPlayList\", payload.value).then((data) => {\n    setLog(`mini app called \"setPlayList\" handler`, data);\n  });\n}\nlet playerMode = ref(\"FULL\");\nfunction onSwitchPlayerMode() {\n  playerMode.value = playerMode.value === \"FULL\" ? \"MINI\" : \"FULL\";\n  console.log(playerMode.value);\n  $bridge\n    .callHandler(\"switchPlayerMode\", {\n      mode: playerMode.value,\n    })\n    .then(() => {\n      setLog(`mini app called \"switchPlayerMode\" handler`, {\n        mode: playerMode.value,\n      });\n    });\n}\n\nfunction setLog(desc, data) {\n  logs.value.push({\n    desc,\n    data,\n  });\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.log-container {\n  padding: 20px;\n  border: 1px solid rgb(235, 237, 240);\n  border-radius: 3px;\n  font-family: monospace;\n  margin-bottom: 20px;\n  overflow-y: auto;\n  height: 150px;\n}\n</style>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}