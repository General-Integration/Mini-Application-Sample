{"ast":null,"code":"import \"vant/es/toast/style\";\nimport _Toast from \"vant/es/toast\";\nimport { reactive, inject, ref } from \"vue\";\nexport default {\n  __name: 'HandlerAddCalendar',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const $bridge = inject(\"$bridge\");\n    const calendar = reactive({\n      title: \"The Title\",\n      description: \"Description\",\n      startDate: \"\",\n      endDate: \"\"\n    });\n    const startDate = ref(\"\");\n    const endDate = ref(\"\");\n    const showStartDate = ref(false);\n    const showEndDate = ref(false);\n    const formatDate = date => `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;\n    const onConfirmStartDate = value => {\n      showStartDate.value = false;\n      calendar.startDate = +new Date(value);\n      startDate.value = formatDate(value);\n    };\n    const onConfirmEndDate = value => {\n      showEndDate.value = false;\n      calendar.endDate = +new Date(value);\n      endDate.value = formatDate(value);\n    };\n    function onSubmit() {\n      _Toast.loading({\n        message: \"Loading...\",\n        forbidClick: true,\n        duration: 10000\n      });\n      $bridge.callHandler(\"addCalendar\", calendar).then(() => {\n        _Toast.success(\"Success\");\n      });\n    }\n    const __returned__ = {\n      $bridge,\n      calendar,\n      startDate,\n      endDate,\n      showStartDate,\n      showEndDate,\n      formatDate,\n      onConfirmStartDate,\n      onConfirmEndDate,\n      onSubmit,\n      reactive,\n      inject,\n      ref,\n      get Toast() {\n        return _Toast;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","inject","ref","$bridge","calendar","title","description","startDate","endDate","showStartDate","showEndDate","formatDate","date","getDate","getMonth","getFullYear","onConfirmStartDate","value","Date","onConfirmEndDate","onSubmit","_Toast","loading","message","forbidClick","duration","callHandler","then","success"],"sources":["/Users/chhuonn.sophorn/Desktop/ABA-09-01-2023/Mini-Application-Sample/src/pages/BridgeHandlers/HandlerAddCalendar.vue"],"sourcesContent":["<template>\n  <div style=\"margin-left: 16px\">\n    <h3>Add Calendar</h3>\n    <p style=\"margin-top: 36px\">Test add calendar</p>\n  </div>\n  <van-form @submit=\"onSubmit\">\n    <van-cell-group inset>\n      <van-field\n        v-model=\"calendar.title\"\n        name=\"title\"\n        label=\"title\"\n        placeholder=\"title\"\n        :rules=\"[{ required: true, message: 'title is required' }]\"\n      />\n      <van-field\n        v-model=\"calendar.description\"\n        name=\"description\"\n        label=\"description\"\n        placeholder=\"description\"\n      />\n\n      <van-field\n        label=\"Start Date\"\n        v-model=\"startDate\"\n        @click=\"showStartDate = true\"\n        placeholder=\"date\"\n        :rules=\"[{ required: true, message: 'start date is required' }]\"\n      />\n      <van-calendar\n        v-model:show=\"showStartDate\"\n        @confirm=\"onConfirmStartDate\"\n      />\n\n      <van-field\n        label=\"End Date\"\n        v-model=\"endDate\"\n        placeholder=\"date\"\n        @click=\"showEndDate = true\"\n        :rules=\"[{ required: true, message: 'end date is required' }]\"\n      />\n      <van-calendar v-model:show=\"showEndDate\" @confirm=\"onConfirmEndDate\" />\n    </van-cell-group>\n\n    <div style=\"margin: 26px 16px\">\n      <van-button round block type=\"primary\" native-type=\"submit\">\n        Add Calendar\n      </van-button>\n    </div>\n  </van-form>\n</template>\n\n<script setup>\nimport { reactive, inject, ref } from \"vue\";\nimport { Toast } from \"vant\";\nconst $bridge = inject(\"$bridge\");\nconst calendar = reactive({\n  title: \"The Title\",\n  description: \"Description\",\n  startDate: \"\",\n  endDate: \"\",\n});\nconst startDate = ref(\"\");\nconst endDate = ref(\"\");\nconst showStartDate = ref(false);\nconst showEndDate = ref(false);\n\nconst formatDate = (date) =>\n  `${date.getDate()}-${date.getMonth() + 1}-${date.getFullYear()}`;\nconst onConfirmStartDate = (value) => {\n  showStartDate.value = false;\n  calendar.startDate = +new Date(value);\n  startDate.value = formatDate(value);\n};\nconst onConfirmEndDate = (value) => {\n  showEndDate.value = false;\n  calendar.endDate = +new Date(value);\n  endDate.value = formatDate(value);\n};\n\nfunction onSubmit() {\n  Toast.loading({\n    message: \"Loading...\",\n    forbidClick: true,\n    duration: 10000,\n  });\n  $bridge.callHandler(\"addCalendar\", calendar).then(() => {\n    Toast.success(\"Success\");\n  });\n}\n</script>\n"],"mappings":";;AAoDA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,GAAG,QAAQ,KAAK;;;;;;;IAE3C,MAAMC,OAAO,GAAGF,MAAM,CAAC,SAAS,CAAC;IACjC,MAAMG,QAAQ,GAAGJ,QAAQ,CAAC;MACxBK,KAAK,EAAE,WAAW;MAClBC,WAAW,EAAE,aAAa;MAC1BC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE;IACX,CAAC,CAAC;IACF,MAAMD,SAAS,GAAGL,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMM,OAAO,GAAGN,GAAG,CAAC,EAAE,CAAC;IACvB,MAAMO,aAAa,GAAGP,GAAG,CAAC,KAAK,CAAC;IAChC,MAAMQ,WAAW,GAAGR,GAAG,CAAC,KAAK,CAAC;IAE9B,MAAMS,UAAU,GAAIC,IAAI,IACrB,GAAEA,IAAI,CAACC,OAAO,CAAC,CAAE,IAAGD,IAAI,CAACE,QAAQ,CAAC,CAAC,GAAG,CAAE,IAAGF,IAAI,CAACG,WAAW,CAAC,CAAE,EAAC;IAClE,MAAMC,kBAAkB,GAAIC,KAAK,IAAK;MACpCR,aAAa,CAACQ,KAAK,GAAG,KAAK;MAC3Bb,QAAQ,CAACG,SAAS,GAAG,CAAC,IAAIW,IAAI,CAACD,KAAK,CAAC;MACrCV,SAAS,CAACU,KAAK,GAAGN,UAAU,CAACM,KAAK,CAAC;IACrC,CAAC;IACD,MAAME,gBAAgB,GAAIF,KAAK,IAAK;MAClCP,WAAW,CAACO,KAAK,GAAG,KAAK;MACzBb,QAAQ,CAACI,OAAO,GAAG,CAAC,IAAIU,IAAI,CAACD,KAAK,CAAC;MACnCT,OAAO,CAACS,KAAK,GAAGN,UAAU,CAACM,KAAK,CAAC;IACnC,CAAC;IAED,SAASG,QAAQA,CAAA,EAAG;MAClBC,MAAA,CAAMC,OAAO,CAAC;QACZC,OAAO,EAAE,YAAY;QACrBC,WAAW,EAAE,IAAI;QACjBC,QAAQ,EAAE;MACZ,CAAC,CAAC;MACFtB,OAAO,CAACuB,WAAW,CAAC,aAAa,EAAEtB,QAAQ,CAAC,CAACuB,IAAI,CAAC,MAAM;QACtDN,MAAA,CAAMO,OAAO,CAAC,SAAS,CAAC;MAC1B,CAAC,CAAC;IACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}